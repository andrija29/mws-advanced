<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [mws-advanced][1]
-   [mws-advanced][2]
-   [mws-advanced][3]
-   [MWSAdvanced][4]
-   [mws][5]
-   [init][6]
-   [endpoints][7]
-   [callEndpoint][8]
-   [InvalidUsage][9]
-   [ServiceError][10]
-   [InvalidIdentifier][11]
-   [RequestCancelled][12]
-   [ValidationError][13]
-   [recursionCount][14]
-   [rootWasArray][15]
-   [validateInteger][16]
-   [feeds][17]
-   [REQUEST_REPORT_TYPES][18]
-   [REPORT_PROCESSING_STATUS_TYPES][19]
-   [getMarketplaces][20]
-   [getMarketplaces][21]
-   [parseMarketplaceData][22]
-   [listOrderItems][23]
-   [listOrderItems][24]
-   [transformIntsAndBools][25]
-   [transformIntsAndBools][26]
-   [transformIntsAndBools][27]
-   [listOrders][28]
-   [listFinancialEvents][29]
-   [forceArray][30]
-   [removeFromString][31]
-   [transformAttributeSetKey][32]
-   [transformObjectKeys][33]
-   [listInventorySupply][34]
-   [getMatchingProductForId][35]
-   [getIdFromProductList][36]
-   [getIdFromProductList][37]
-   [parseMatchingProduct][38]
-   [getLowestPricedOffersForASIN][39]
-   [getLowestPricedOffersForSKU][40]
-   [reformatOfferCount][41]
-   [reformatOffer][42]
-   [reformatOffer][43]
-   [reformatOffer][44]
-   [reformatOffer][45]
-   [reformatOffer][46]
-   [reformatLowestPrice][47]
-   [reformatBuyBoxPrice][48]
-   [reformatSummary][49]
-   [parseLowestPricedOffers][50]
-   [getProductCategoriesForAsins][51]
-   [getProductCategoriesForAsins][52]
-   [getProductCategoriesForAsins][53]
-   [getProductCategoriesForAsins][54]
-   [getProductCategoriesForSkus][55]
-   [getMyFeesEstimate][56]
-   [getMyFeesEstimate][57]
-   [getMyFeesEstimate][58]
-   [getMyFeesEstimate][59]
-   [getMyFeesEstimate][60]
-   [listMatchingProducts][61]
-   [MWS_MARKETPLACES][62]
-   [MARKET_CURRENCY][63]
-   [MWS_ENDPOINTS][64]
-   [writeFile][65]
-   [requestReport][66]
-   [requestReport][67]
-   [getReportRequestList][68]
-   [getReportRequestList][69]
-   [getReport][70]
-   [getReportList][71]
-   [getReportListByNextToken][72]
-   [getReportListAll][73]
-   [requestAndDownloadReport][74]

## mws-advanced

mws-advanced module for interacting with Amazon Merchant Web Services

## mws-advanced

## mws-advanced

reporting functions

## MWSAdvanced

Create a new instance of MWSAdvanced, calling init(), and binding this instance of callEndpoint
to this instance of MWSAdvanced.

**Parameters**

-   `rest` **[object][75]** passed on to @see [#init][6]

Returns **[MWSAdvanced][76]** new instance of MWSAdvanced

## mws

holds the mws-simple reference after init() is called

## init

Initialize mws-advanced with your MWS access keys, merchantId, optionally authtoken, host, port
If accessKeyId, secretAccessKey, and/or merchantId are not provided, they will be read from
the environment variables MWS_ACESS_KEY, MWS_SECRET_ACCESS_KEY, and MWS_MERCHANT_ID respectively

**Parameters**

-   `config` **[object][75]** Contains your MWS Access Keys/Tokens and options to configure the API (optional, default `{}`)
    -   `config.region` **[string][77]** One of the Amazon regions as specified in [https://docs.developer.amazonservices.com/en_US/dev_guide/DG_Endpoints.html][78] (optional, default `'NA'`)
    -   `config.accessKeyId` **[string][77]** Your MWS Access Key (optional, default `process.env.MWS_ACCESS_KEY`)
    -   `config.secretAccessKey` **[string][77]** Your MWS Secret Access Key (optional, default `process.env.MWS_SECRET_ACCESS_KEY`)
    -   `config.merchantId` **[string][77]** Your MWS Merchant ID (optional, default `process.env.MWS_MERCHANT_ID`)
    -   `config.authToken` **[string][77]?** If making a call for a third party account, the Auth Token provided
                                  for the third party account
    -   `config.host` **[string][77]** Set MWS host server name, see [https://docs.developer.amazonservices.com/en_US/dev_guide/DG_Endpoints.html][78] (optional, default `'mws.amazonservices.com'`)
    -   `config.port` **[number][79]** Set MWS host port (optional, default `443`)

**Examples**

```javascript
const mws = MWS.init({ region: 'NA', accessKeyId: '1234', secretAccessKey: '2345', merchantId: '1234567890' });
const mws = MWS.init({ region: 'EU', accessKeyId, ... });
const mws = MWS.init({ authToken: 'qwerty', accessKeyId, ...});
const mws = MWS.init({ host: 'alternate-mws-server.com', accessKeyId, ... });
```

Returns **mws-simple** The mws-simple instance used to communicate with the API

## endpoints

simple flat list of all the endpoints required from individual modules above

## callEndpoint

Call a known endpoint at MWS, returning the raw data from the function. Parameters are
transformed and validated according to the rules defined in lib/endpoints

**Parameters**

-   `name` **[string][77]** name of MWS API function to call
-   `callOptions` **[object][75]?** named hash object of the parameters to pass to the API (optional, default `{}`)
    -   `callOptions.feedContent` **[string][77]?** if calling a function that submits a feed, supply the feed data here
-   `opt` **[object][75]?** options for callEndpoint (optional, default `{maxThrottleRetries:2}`)
    -   `opt.noFlatten` **[boolean][80]?** do not flatten results
    -   `opt.returnRaw` **[boolean][80]?** return only the raw data (may or may not be flattened)
    -   `opt.saveRaw` **[string][77]?** filename to save raw data to (may or may not be flattened)
    -   `opt.saveParsed` **[string][77]?** filename to save final parsed data to (not compatible with returnRaw, since parsing won't happen)
    -   `opt.maxThrottleRetries` **int** maximum number of retries for throttling (optional, default `2`)

Returns **any** Results of the call to MWS

## InvalidUsage

**Extends Error**

Thrown when completely Invalid Parameters are given and we have no way of making sense of them

## ServiceError

**Extends Error**

Thrown when an Error response comes from the Service (not a mws-simple.ServerError though)

## InvalidIdentifier

**Extends ServiceError**

Thrown when receiving an "Invalid" identifier message, which is also the same as "identifier
does not exist" -- when calling something like getMatchingProductForId, MWS will return
"Invalid Identifier" for any situation in which an identifier is not found. It may or may not
be technically valid, but it definitely doesn't exist on their side.

## RequestCancelled

**Extends Error**

Thrown when a request is cancelled by MWS -- we have no way of knowing automatically if we should retry or not

## ValidationError

**Extends Error**

Thrown when parameters fail validation locally, before being sent to MWS

## recursionCount

flattenResult does some recursion. We need to act differently on the initial iteration.

## rootWasArray

determine if flattenResult was called with an Array as the root

## validateInteger

**Parameters**

-   `type` **[string][77]** type of integer to validate (xs:int, xs:positiveInteger, etc)
-   `test` **any** value to test
-   `minmax` **[object][75]** minimum and maximum values to test for (optional, default `{}`)
    -   `minmax.minValue` **integer** minimum value to test for
    -   `minmax.maxValue` **integer** maximum value to test for

## feeds

pull in all the separate endpoint modules and export them together

## REQUEST_REPORT_TYPES

List of all valid request report types.
This should probably be a hash map from sane values into values that Amazon understands,
but we don't really have reporting done very well yet.

## REPORT_PROCESSING_STATUS_TYPES

status indicators for report processing status updates

## getMarketplaces

**Parameters**

-   `marketplaceId` **[string][77]** id of marketplace. should be same as hash index.
-   `defaultCountryCode` **[string][77]** country code for marketplace (US, CA, etc)
-   `domainName` **[string][77]** domain name used by customers to access this market (amazon.com, .ca, .mx)
-   `defaultCurrencyCode` **[string][77]** currency code (USD, CAD, etc)
-   `defaultLanguageCode` **[string][77]** Language setting (en_US, en_CA, etc)
-   `sellerId` **[string][77]** your seller ID in this marketplace
-   `hasSellerSuspendedListings` **[boolean][80]** true if there are seller suspended listings in this account on this market

## getMarketplaces

Call MWS ListMarketplaceParticipations, return parsed results

**Examples**

```javascript
const marketplaces = (async () => await mws.getMarketplaces())();
(async function() {
   const result = await mws.getMarketplaces();
   console.log(result);
})();
```

Returns **MarketDetail** 

## parseMarketplaceData

Turn a mess of XML from ListMarketplaceParticipations into a @see [MarketDetail][81]

**Parameters**

-   `marketplaceData` **any** 

## listOrderItems

Returns order items based on the AmazonOrderId that you specify.

If you've pulled a list of orders using @see [ListOrders][82], or have order identifiers
stored in some other fashion, then to find out what items are actually on the orders, you will
need to call ListOrderItems to obtain details about the items that were ordered.  The ListOrders
call does not give you any information about the items, except how many of them have shipped or
not shipped.

If an Order is in the Pending state, ListOrderItems will not return any pricing or promotion
information. Once an order has left the Pending state, the following items will be returned:

ItemTax, GiftWrapPrice, ItemPrice, PromotionDiscount, GiftWrapTax, ShippingTax, ShippingPrice,
ShippingDiscount

**Parameters**

-   `AmazonOrderId` **[string][77]** 3-7-7 Amazon Order ID formatted string

Returns **OrderItemList** 

## listOrderItems

**Parameters**

-   `AmazonOrderId`  
-   `orderId` **[string][77]** Amazon Order ID
-   `nextToken` **[string][77]** Token to provide to ListOrderItemsByNextToken if needed (no token = no need)
-   `orderItems` **[Array][83]** Array of all the items in the order

## transformIntsAndBools

**Parameters**

-   `item`  

## transformIntsAndBools

**Parameters**

-   `item`  

## transformIntsAndBools

**Parameters**

-   `item`  
-   `null-null` **orderItems** array of OrderItem
-   `null-null` **nextToken** string for next token to provide to calls to ListOrderItemsByNextToken
-   `null-null` **orderId** string with the Amazon Order ID

## listOrders

Return orders created or updated during a specific time frame
see [https://docs.developer.amazonservices.com/en_UK/orders-2013-09-01/Orders_ListOrders.html][84]
At least ONE of the search options (and maybe more depending on which ones you select) must be
specified. Error messages may or may not return information on what parameters you are missing.
If you are having trouble, see the official parameter documentation above.

**Parameters**

-   `options` **[object][75]** 
    -   `options.MarketplaceId` **[Array][83]&lt;[string][77]>** Array of Marketplace IDs to search @see [MWS_MARKETPLACES][62]
    -   `options.CreatedAfter` **[Date][85]?** Select orders created at or after the given Date
    -   `options.CreatedBefore` **[Date][85]?** Select orders created at or before the given Date
    -   `options.LastUpdatedAfter` **[Date][85]?** Select orders updated at or after the given Date
    -   `options.LastUpdatedBefore` **[Date][85]?** Select orders updated at or before the given Date
    -   `options.OrderStatus` **[string][77]?** OrderStatus, see MWS doc page
    -   `options.FulfillmentChannel` **[string][77]?** AFN for Amazon fulfillment, MFN for merchant
    -   `options.PaymentMethod` **[string][77]?** All, COD, CVS, Other
    -   `options.BuyerEmail` **[string][77]?** Search for orders with given Email address
    -   `options.SellerOrderId` **[string][77]?** Specified seller order ID
    -   `options.MaxResultsPerPage` **[string][77]** Max number of results to return, 1 &lt;=> 100 (optional, default `100`)
    -   `options.TFMShipmentStatus` **[string][77]?** See MWS doc page

Returns **[object][75]** 

## listFinancialEvents

[https://docs.developer.amazonservices.com/en_UK/finances/Finances_ListFinancialEvents.html][86]

**Parameters**

-   `options` **[object][75]** 
    -   `options.MaxResultsPerPage` **[number][79]** Maximum number of results to return (1 &lt;=> 100)
    -   `options.AmazonOrderId` **[string][77]** An order number to search for
    -   `options.FinancialEventGroupId` **[string][77]** Type of Financial Event to search for
    -   `options.PostedAfter` **[Date][85]** When to search for events after
    -   `options.PostedBefore` **[Date][85]** When to search for events prior to

Returns **[object][75]** 

## forceArray

**Parameters**

-   `arr`  

## removeFromString

remove a string pattern from a string

**Parameters**

-   `str` **[string][77]** string to remove pattern from
-   `pattern` **([string][77] | regex)** pattern to remove

Returns **[string][77]** string with the pattern removed

## transformAttributeSetKey

Special key transformer for transformObjectKeys to strip "ns2:" from the beginning of keys,
such as 'ns2:ItemAttributes'

**Parameters**

-   `k` **any** 

## transformObjectKeys

Transforms an object, and it's keys. Use keyTransformer as a special key transformer function.

This is a rather complex function, which takes unintuitive JSON from XML conversion, and attempts
to organize it in a more understandable fashion.  It will convert internal objects such as:
{ "\_": "4.20", "$": { "Units": "inches" } }
to
{ "inches": "4.20" }

With the application of keyTransformer, you can also convert something like
{ "ns2:ManufacturerMinimumAge": { "\_": "36", "$": { "Units": "months" } } }
to a much more readable:
{ "manufacturerMinimumAge: { "months": "36" } },

**Parameters**

-   `obj` **any** 
-   `keyTransformer` **any**  (optional, default `transformKey`)

Returns **any** transformed object

## listInventorySupply

Return information about the availability of a seller's FBA inventory

**Parameters**

-   `options` **[object][75]** 
    -   `options.SellerSkus` **[Array][83]&lt;[String][77]>** A list of SKUs for items to get inventory info for
    -   `options.QueryStartDateTime` **[Date][85]** Date to begin searching at
    -   `options.ResponseGroup` **[string][77]** 'Basic' = Do not include SupplyDetail, 'Detailed' = Do
    -   `options.MarketplaceId` **[string][77]** Marketplace ID to search

Returns **{nextToken: [string][77], supplyList: [Array][83]&lt;[object][75]>}** 

## getMatchingProductForId

Returns a list of products and their attributes, based on a list of ASIN, GCID, SellerSKU, UPC,
EAN, ISBN, or JAN values

**Parameters**

-   `options` **[Object][75]** see [https://docs.developer.amazonservices.com/en_UK/products/Products_GetMatchingProductForId.html][87]
    -   `options.MarketplaceId` **[string][77]** Identifier for marketplace (see getMarketplaces)
    -   `options.IdType` **[string][77]** Type of lookup to perform: ASIN, GCID, SellerSKU, UPC, EAN, ISBN, JAN
    -   `options.IdList` **[Array][83]&lt;[string][77]>** List of codes to perform lookup on

Returns **[Array][83]&lt;Product>** 

## getIdFromProductList

Determine the product id. GetMatchingProduct\* and ListMatchingProducts return VERY similar
results, but GetMatchingProduct includes a list of identifiers as $.IdType and $.Id.
ListMatchingProduct does not return those, as you're not requesting a list of Ids.

**Parameters**

-   `productList`  
-   `product` **any** information about a single product from _MatchingProduct_ APIs

Returns **ProductIdentifier** 

## getIdFromProductList

**Parameters**

-   `productList`  
-   `type` **[string][77]** Type of Identifier used (asin, upc, ean, jan, etc)
-   `id` **[string][77]** Product Identifier string

## parseMatchingProduct

Parse MWS product info into Product\[] (TODO: document Product\[], it's quite a large potential result)

**Parameters**

-   `productData` **any** MWS product info

Returns **[Array][83]&lt;Product>** 

## getLowestPricedOffersForASIN

getLowestPricedOffersForASIN

Calls GetLowestPricedOffersForASIN, reformats results, and returns the data

**Parameters**

-   `options` **[object][75]** see [https://docs.developer.amazonservices.com/en_UK/products/Products_GetLowestPricedOffersForASIN.html][88]
    -   `options.MarketplaceId` **[string][77]** Marketplace ID to search
    -   `options.ASIN` **[string][77]** ASIN to search for
    -   `options.ItemCondition` **[string][77]** Listing Condition: New, Used, Collectible, Refurbished, Club

Returns **LowestPricedOffers** 

## getLowestPricedOffersForSKU

getLowestPricedOffersForASIN

Calls GetLowestPricedOffersForASIN, reformats results, and returns the data

**Parameters**

-   `options` **[object][75]** see [https://docs.developer.amazonservices.com/en_UK/products/Products_GetLowestPricedOffersForASIN.html][88]
    -   `options.MarketplaceId` **[string][77]** Marketplace ID to search
    -   `options.SellerSKU` **[string][77]** SKU to search for
    -   `options.ItemCondition` **[string][77]** Listing Condition: New, Used, Collectible, Refurbished, Club

Returns **LowestPricedOffers** 

## reformatOfferCount

**Parameters**

-   `offerCount`  
-   `count` **[number][79]** 
-   `condition` **[string][77]** 
-   `fulfillmentChannel` **[string][77]** 

## reformatOffer

**Parameters**

-   `offer`  
-   `unknown` **[string][77]** 

## reformatOffer

**Parameters**

-   `offer`  
-   `unknown` **[string][77]** 

## reformatOffer

**Parameters**

-   `offer`  
-   `subCondition` **[string][77]** The subcondition of the item (New, Mint, Very Good, Good, Acceptable, Poor, Club, OEM, Warranty, Refurbished Warranty, Refurbished, Open Box, or Other)
-   `sellerFeedbackRating` **SellerFeedbackRating** Information about the seller's feedback
-   `shippingTime` **DetailedShippingTime** Maximum time within which the item will likely be shipped
-   `listingPrice` **Money** The price of the item
-   `points` **Points?** The number of Amazon Points offered with the purchase of an item
-   `shipping` **Money** Cost of shipping
-   `shipsFrom` **ShipsFrom?** State and Country where item is shipped from
-   `isFulfilledByAmazon` **[boolean][80]** True if FBA, False if not
-   `isBuyBoxWinner` **[boolean][80]?** True if offer has buy box, False if not
-   `isFeaturedMerchant` **[boolean][80]?** True if seller is eligible for Buy Box, False if not

## reformatOffer

**Parameters**

-   `offer`  
-   `unknown` **[string][77]** 

## reformatOffer

**Parameters**

-   `offer`  
-   `unknown` **[string][77]** 

## reformatLowestPrice

**Parameters**

-   `lp`  
-   `condition` **[string][77]** 
-   `fulfillmentChannel` **[string][77]** 
-   `landedPrice` **Money** 
-   `listingPrice` **Money** 
-   `shipping` **[string][77]** 

## reformatBuyBoxPrice

**Parameters**

-   `bb`  
-   `condition` **[string][77]** 
-   `landedPrice` **Money** 
-   `listingPrice` **Money** 
-   `shipping` **Money** 

## reformatSummary

**Parameters**

-   `summary`  
-   `totalOfferCount` **[number][79]** 
-   `numberOfOffers` **[number][79]** 
-   `listPrice` **Money** 
-   `lowestPrices` **[Array][83]&lt;LowestPrice>** 
-   `buyBoxPrices` **[Array][83]** 

## parseLowestPricedOffers

**Parameters**

-   `offerData`  
-   `asin` **[string][77]** asin returned by request
-   `marketplace` **[string][77]** marketplace asin is in
-   `itemCondition` **[string][77]** condition of item requested
-   `summary` **OfferSummary** \-
-   `offers` **[Array][83]&lt;Offers>** list of offers

## getProductCategoriesForAsins

**Parameters**

-   `$0` **[Object][75]** 
    -   `$0.marketplaceId`  
    -   `$0.asins`  
-   `asin` **[string][77]** ASIN that this category information belongs to
-   `error` **[object][75]?** This field is set when a server error is returned, see error.code and error.body for further info. Server Errors may be returned for invalid ASINs or other reasons.
-   `Self` **productCategory?** The product category this ASIN belongs to - if not present, may be an invalid ASIN

## getProductCategoriesForAsins

**Parameters**

-   `$0` **[Object][75]** 
    -   `$0.marketplaceId`  
    -   `$0.asins`  
-   `sku` **[string][77]** SKU that this category information belongs to
-   `error` **[object][75]?** This field is set when a server error is returned, see error.code and error.body for further info. Server Errors may be returned for invalid SKUs or other reasons.
-   `Self` **productCategory?** The product category that this SKU belongs to - if not present, may be an invalid ASIN

## getProductCategoriesForAsins

return product categories for multiple asins

**Parameters**

-   `parameters` **[object][75]** 
    -   `parameters.marketplaceId` **[string][77]** marketplace identifier to run query on
    -   `parameters.asins` **[Array][83]&lt;[string][77]>** Array of string ASINs to query for

Returns **[Array][83]&lt;productCategoryByAsin>** Array of product category information

## getProductCategoriesForAsins

productCategory
Product Category Information

**Parameters**

-   `$0` **[Object][75]** 
    -   `$0.marketplaceId`  
    -   `$0.asins`  
-   `ProductCategoryId` **[string][77]** The string or numeric-string category identifier for the category
-   `ProductCategoryName` **[string][77]** The string human readable description of the category
-   `Parent` **productCategory?** Parent product category. This will not be present if this category is the root.

## getProductCategoriesForSkus

return product categories for multiple asins

**Parameters**

-   `parameters` **[object][75]** 
    -   `parameters.marketplaceId` **[string][77]** marketplace identifier to run query on
    -   `parameters.skus` **[Array][83]&lt;[string][77]>** Array of string SKUs to query for

Returns **[Array][83]&lt;productCategoryBySku>** Array of product category information

## getMyFeesEstimate

**Parameters**

-   `estimates`  
-   `feeType` **[string][77]** The type of fee (ReferralFee, PerItemFee, VariableClosingFee, etc)
-   `feeAmount` **Money** Base fee, currencyCode and amount
-   `feePromotion` **Money** Discounts applied to fee, currencyCode and amount
-   `finalFee` **Money** feeAmount minus feePromotion, currencyCode and amount

## getMyFeesEstimate

**Parameters**

-   `estimates`  
-   `marketplaceId` **[string][77]** MWS MarketplaceId to request item within
-   `idType` **[string][77]** type of identifier for item (ASIN, GCID, SellerSKU, UPC, EAN, ISBN, JAN)
-   `idValue` **[string][77]** identifier to use (see idType)
-   `isAmazonFulfilled` **[boolean][80]** true for FBA fees, false for Merchant Fulfilled fees
-   `listingPrice` **Money** currencyCode and amount for listing price
-   `shipping` **Money** currencyCode and amount for shipping price
-   `points` **[object][75]** pointsNumber: amazon points for purchase (Japan only?)
-   `identifier` **[string][77]?** identifier to attach to request. If not given, will be `FBA.${idValue}` for FBA requests or `MF.${idValue}` for MF requests

## getMyFeesEstimate

**Parameters**

-   `estimates`  
-   `marketplaceId` **[string][77]** MWS MarketplaceId requested
-   `idType` **[string][77]** type of identifier requested
-   `sellerId` **[string][77]** the seller identifier that requested the estimate
-   `isAmazonFulfilled` **[boolean][80]** true for FBA, false for Merchant Fulfilled
-   `sellerInputIdentifier` **[string][77]** identifier from EstimateRequest
-   `idValue` **[string][77]** the product idValue from EstimateRequest
-   `priceToEstimateFees` **[object][75]** Money values entered in as listingPrice and shipping to EstimateRequest
    -   `priceToEstimateFees.listingPrice` **Money** listingPrice from EstimateRequest
    -   `priceToEstimateFees.shipping` **Money** shipping from EstimateRequest

## getMyFeesEstimate

**Parameters**

-   `estimates`  
-   `totalFees` **Money** currencyCode and amount for total fees
-   `time` **[string][77]** ISO8601 time stamp format time the fee response was created
-   `detail` **[Array][83]&lt;FeeDetail>** array of details about each of the fees that make up totalFees
-   `identifier` **FeeIdentifier** information about the EstimateRequest
-   `status` **[string][77]** "Success" for success or "ServerError" for request failure
-   `error` **[Error][89]?** If an Error occurred (success === "Failure"), a description of the Error

## getMyFeesEstimate

Get an estimate of fees for an item, based on listing and shipping prices.

**Parameters**

-   `estimates`  
-   `null-null` **[Array][83]&lt;EstimateRequest>** Array of EstimateRequest items to get fees for

Returns **[Object][75]** Object of Estimate items, indexed by EstimateRequest Identifier

## listMatchingProducts

Return a list of products and their attributes, based on a text query and contextId.

**Parameters**

-   `options` **[object][75]** 
    -   `options.marketplaceId` **[string][77]** marketplace identifier to search
    -   `options.query` **[string][77]** a search string "with the same support as that provided on Amazon marketplace websites"
    -   `options.queryContextId` **[string][77]?** context in which to limit search. Not specified will mean "search everywhere". See [https://docs.developer.amazonservices.com/en_UK/products/Products_QueryContextIDs.html][90]

Returns **[Array][83]&lt;Product>** Array of product information

## MWS_MARKETPLACES

A list of Marketplace IDs hashed by their country code.

## MARKET_CURRENCY

A list of the default currency codes for markets, indexed by country code.
Calling, for example, getMyFeesEstimate in Canada, using USD will fail with
"status":"ClientError",
"error":{
    "code":"InvalidParameterValue",
    "message":"There is an client-side error. Please verify your inputs."
}
so you need to use CAD when calling getMyFeesEstimate for Canada.

## MWS_ENDPOINTS

A list of hosts you can use with the mws-advanced "host" option, hashed by MWS Region Name.

## writeFile

Promisified version of fs.writeFile
We like to use Promises. writeFile does not come in a Promise variant, currently.
Use util/promisify to make it work with Promises.
This is better than using writeFileSync. Trust me. :-)

**Parameters**

-   `fileName` **[string][77]** path/filename to write to
-   `contents` **([string][77] \| [Buffer][91])** what to write to file

## requestReport

**Parameters**

-   `options`  
-   `ReportType` **[string][77]** Type of Report Requested @see [REQUEST_REPORT_TYPES][18]
-   `ReportProcessingStatus` **[string][77]** Status of Report @see [REPORT_PROCESSING_STATUS_TYPES][19]
-   `EndDate` **[string][77]** ISO Date for Date Ending period
-   `Scheduled` **[boolean][80]** True if report is scheduled, false if immediate
-   `ReportRequestId` **[string][77]** Identifier to use with getReport to fetch the report when ready
-   `SubmittedDate` **[string][77]** ISO Date for Date request was submitted
-   `StartDate` **[string][77]** ISO Date for Date report begins at

## requestReport

Request a report from MWS
Many optional parameters may be required by MWS! Read [ReportType][92] for specifics!

**Parameters**

-   `options` **[object][75]** 
    -   `options.ReportType` **[string][77]** Type of Report to Request @see [REQUEST_REPORT_TYPES][18]
    -   `options.StartDate` **[Date][85]?** Date to start report
    -   `options.EndDate` **[Date][85]?** Date to end report at
    -   `options.ReportOptions` **[object][75]?** Reports may have additional options available. Please see the [ReportType][92] official docs
-   `MarketplaceId` **[Array][83]&lt;[string][77]>?** Array of marketplace IDs to generate reports covering

Returns **ReportRequestInfo** 

## getReportRequestList

Returns a list of report requests that you can use to get the ReportRequestId for a report
After calling requestReport, you should call this function occasionally to see if/when the report
has been processed.

**Parameters**

-   `options` **[object][75]?** Options to pass to GetReportRequestList (optional, default `{}`)
-   `ReportRequestIdList` **[Array][83]&lt;[string][77]>?** List of report request IDs @see [requestReport][66]
-   `ReportTypeList` **[Array][83]&lt;[string][77]>?** List of Report Types @see [REQUEST_REPORT_TYPES][18]
-   `ReportProcessingStatusList` **[Array][83]&lt;[string][77]>?** List of Report Processing Status @see [REPORT_PROCESSING_STATUS_TYPES][19]
-   `MaxCount` **[number][79]** Maximum number of report requests to return, max is 100 (optional, default `10`)
-   `RequestedFromDate` **[Date][85]** Oldest date to search for (optional, default `90-days-past`)
-   `RequestedToDate` **[Date][85]** Newest date to search for (optional, default `Now`)

Returns **[Array][83]&lt;GetReportRequestListResult>** 

## getReportRequestList

**Parameters**

-   `options`   (optional, default `{}`)
-   `ReportType` **[string][77]** Type of Report Requested @see [REQUEST_REPORT_TYPES][18]
-   `ReportProcessingStatus` **[string][77]** Status of Report @see [REPORT_PROCESSING_STATUS_TYPES][19]
-   `EndDate` **[string][77]** ISO Date for Report End Period
-   `Scheduled` **[boolean][80]** True if report is scheduled, false if immediate
-   `ReportRequestId` **[string][77]** Identifier for the Report Request
-   `StartedProcessingDate` **[string][77]** ISO Date for time MWS started processing request
-   `StartDate` **[string][77]** ISO Date for Report Start Period
-   `CompletedDate` **[string][77]** ISO Date for time MWS completed processing request
-   `GeneratedReportId` **[string][77]** Identifier to use with getReport to retrieve the report

## getReport

Returns the contents of a report

**Parameters**

-   `options` **[object][75]** Options to pass to GetReport
    -   `options.ReportId` **[string][77]** Report number from @see [GetReportList][93] or GeneratedReportId from @see [GetReportRequestListResult][94]

Returns **([Array][83] \| [object][75])** Contents of the report to return (format may vary WIDELY between different reports generated, see [ReportType][92])

## getReportList

TODO: write documentation for getReportList

**Parameters**

-   `options`   (optional, default `{}`)

## getReportListByNextToken

TODO: write documentation for getReportListByNextToken
(or just roll getReportList and getReportListByNextToken into the same wrapper)
(that wrapper might be getReportListAll, and just rename it)

**Parameters**

-   `options`  

## getReportListAll

TODO: write documentation for getReportListAll (or see comment on getReportListByNextToken)

**Parameters**

-   `options`   (optional, default `{}`)

## requestAndDownloadReport

TODO: Document requestAndDownloadReport

**Parameters**

-   `ReportType`  
-   `file`  
-   `reportParams`   (optional, default `{}`)

[1]: #mws-advanced

[2]: #mws-advanced-1

[3]: #mws-advanced-2

[4]: #mwsadvanced

[5]: #mws

[6]: #init

[7]: #endpoints

[8]: #callendpoint

[9]: #invalidusage

[10]: #serviceerror

[11]: #invalididentifier

[12]: #requestcancelled

[13]: #validationerror

[14]: #recursioncount

[15]: #rootwasarray

[16]: #validateinteger

[17]: #feeds

[18]: #request_report_types

[19]: #report_processing_status_types

[20]: #getmarketplaces

[21]: #getmarketplaces-1

[22]: #parsemarketplacedata

[23]: #listorderitems

[24]: #listorderitems-1

[25]: #transformintsandbools

[26]: #transformintsandbools-1

[27]: #transformintsandbools-2

[28]: #listorders

[29]: #listfinancialevents

[30]: #forcearray

[31]: #removefromstring

[32]: #transformattributesetkey

[33]: #transformobjectkeys

[34]: #listinventorysupply

[35]: #getmatchingproductforid

[36]: #getidfromproductlist

[37]: #getidfromproductlist-1

[38]: #parsematchingproduct

[39]: #getlowestpricedoffersforasin

[40]: #getlowestpricedoffersforsku

[41]: #reformatoffercount

[42]: #reformatoffer

[43]: #reformatoffer-1

[44]: #reformatoffer-2

[45]: #reformatoffer-3

[46]: #reformatoffer-4

[47]: #reformatlowestprice

[48]: #reformatbuyboxprice

[49]: #reformatsummary

[50]: #parselowestpricedoffers

[51]: #getproductcategoriesforasins

[52]: #getproductcategoriesforasins-1

[53]: #getproductcategoriesforasins-2

[54]: #getproductcategoriesforasins-3

[55]: #getproductcategoriesforskus

[56]: #getmyfeesestimate

[57]: #getmyfeesestimate-1

[58]: #getmyfeesestimate-2

[59]: #getmyfeesestimate-3

[60]: #getmyfeesestimate-4

[61]: #listmatchingproducts

[62]: #mws_marketplaces

[63]: #market_currency

[64]: #mws_endpoints

[65]: #writefile

[66]: #requestreport

[67]: #requestreport-1

[68]: #getreportrequestlist

[69]: #getreportrequestlist-1

[70]: #getreport

[71]: #getreportlist

[72]: #getreportlistbynexttoken

[73]: #getreportlistall

[74]: #requestanddownloadreport

[75]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[76]: #mwsadvanced

[77]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[78]: https://docs.developer.amazonservices.com/en_US/dev_guide/DG_Endpoints.html

[79]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[80]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[81]: MarketDetail

[82]: ListOrders

[83]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[84]: https://docs.developer.amazonservices.com/en_UK/orders-2013-09-01/Orders_ListOrders.html

[85]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date

[86]: https://docs.developer.amazonservices.com/en_UK/finances/Finances_ListFinancialEvents.html

[87]: https://docs.developer.amazonservices.com/en_UK/products/Products_GetMatchingProductForId.html

[88]: https://docs.developer.amazonservices.com/en_UK/products/Products_GetLowestPricedOffersForASIN.html

[89]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Error

[90]: https://docs.developer.amazonservices.com/en_UK/products/Products_QueryContextIDs.html

[91]: https://nodejs.org/api/buffer.html

[92]: https://docs.developer.amazonservices.com/en_US/reports/Reports_ReportType.html

[93]: GetReportList

[94]: GetReportRequestListResult
